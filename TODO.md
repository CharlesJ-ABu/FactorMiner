# FactorMiner 待办事项

## 🚀 高优先级任务

### 1. **机器学习训练稳定性优化** (进行中)
- [ ] 修复 RandomForest 算法卡在 32% 进度的问题
- [ ] 实现分批训练机制，数据量 > 5000 条时自动启用
- [ ] 优化 RandomForest 和 GradientBoosting 模型参数
- [ ] 添加 30 秒超时保护，防止模型训练无限卡住
- [ ] 实现紧急进度更新线程，每 3 秒强制更新进度
- [ ] 重构 ML 训练流程，提高训练稳定性

**预计时间**: 1-2周  
**负责人**: 开发团队  

### 2. **核心服务 MCP 化改造** (规划中)
**优先级**: 高  
**预计时间**: 3-6个月  
**负责人**: 待定  

#### **目标**
将 FactorMiner 核心服务改造为 MCP (Model Context Protocol) 形式，使其能够被其他 AI Agent 无缝调用。

#### **具体任务**
- [ ] 研究 MCP 协议规范和最佳实践
- [ ] 设计 FactorMiner MCP 接口规范
- [ ] 实现 MCP 服务器端
- [ ] 实现 MCP 客户端 SDK
- [ ] 核心服务 MCP 化：
  - [ ] 数据下载服务 MCP 接口
  - [ ] 因子计算服务 MCP 接口  
  - [ ] 因子评估服务 MCP 接口
  - [ ] 因子挖掘服务 MCP 接口
  - [ ] 数据质量管理服务 MCP 接口
- [ ] 功能接口设计：
  - [ ] `get_market_data(symbol, timeframe, start_date, end_date)`
  - [ ] `compute_factor(factor_id, market_data)`
  - [ ] `evaluate_factor(factor_id, market_data, metrics)`
  - [ ] `mine_factors(symbol, timeframe, factor_types)`
  - [ ] `optimize_factor_combination(factors, data, method)`
- [ ] 集成和测试：
  - [ ] 与主流 AI Agent 平台集成测试
  - [ ] 性能测试和优化
  - [ ] 文档和示例代码
  - [ ] 用户指南和最佳实践

#### **技术考虑**
- **协议选择**: MCP v1.0+ 标准
- **通信方式**: HTTP/WebSocket
- **认证机制**: API Key + OAuth2
- **数据格式**: JSON + 二进制数据支持
- **错误处理**: 标准化错误码和消息

#### **预期收益**
- **生态扩展**: 更容易被其他 AI 工具集成
- **使用便利**: 其他 Agent 可以轻松调用量化因子服务
- **标准化**: 遵循行业标准，提升专业性
- **商业化**: 为 API 服务收费奠定基础

#### **相关资源**
- [MCP 官方文档](https://modelcontextprotocol.io/)
- [MCP GitHub](https://github.com/modelcontextprotocol)
- [MCP 示例实现](https://github.com/modelcontextprotocol/governance)

## 🔧 中优先级任务

### 3. **功能扩展** (短期目标 1-3个月)
- [ ] 完善机器学习训练稳定性
- [ ] 增加更多交易所支持
- [ ] 增强因子可视化功能

### 4. **性能优化** (中期目标 3-6个月)
- [ ] 实现因子回测系统
- [ ] 添加风险管理模块
- [ ] 支持实时因子计算
- [ ] 优化大数据集处理性能
- [ ] 改进内存使用效率
- [ ] 增强并发处理能力

## 📚 低优先级任务

### 5. **长期规划** (6-12个月)
- [ ] 构建因子交易策略
- [ ] 实现自动化因子挖掘
- [ ] 开发移动端应用

### 6. **技术架构升级**
- [ ] 支持更多数据源和交易所
- [ ] 实现分布式计算架构
- [ ] 增强安全性和隐私保护

## 📋 已完成任务

### ✅ **V3.1.1 数据质量管理优化**
- [x] 修复数据去重逻辑错误，统一按时间点去重
- [x] 优化数据下载系统，实现动态 limit 计算
- [x] 增强数据健康检查，严格要求 100 分才能保存
- [x] 修复时区处理问题，确保时间戳比较的一致性
- [x] 优化前端界面，改进 K 线图显示和模态框尺寸
- [x] 修复因子评估数据加载的时间索引问题

### ✅ **V3.1.0 核心功能完善**
- [x] 扩展 Hazel 技术因子库
- [x] 修复 ML 因子挖掘和存储问题
- [x] 优化批量数据下载功能
- [x] 新增数据质量管理系统

---

**最后更新**: 2025年8月  
**维护者**: @CharlesJ-ABu  

> 💡 **提示**: 这个文件会定期更新，记录 FactorMiner 的开发进度和未来规划。
